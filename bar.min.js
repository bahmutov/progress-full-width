/*! progress-full-width - v0.0.2 - 2013-06-29 */
!function(a){function b(){var a=0;return d.forEach(function(b){a+=b.height}),a}function c(a){return a}var d=[];a.progressFullWidth=function(c){var e=c||{};e.id=e.id||"bar",e.color=e.color||"#333333",e.height=e.height||5;var f=document.createElement("div");f.setAttribute("id",e.id);var g=f.style;g.position="absolute",g.width="0",g.height=e.height+"px",g.left="0",e.bottom?(g.bottom="0",d.forEach(function(a){a.move(e.height)})):g.bottom=b()+"px",g.backgroundColor=e.color,f.classList.add("progressFullWidth"),document.body.appendChild(f);var h={_element:f,height:e.height,progress:function(b){if(0>b||b>100)throw new Error("Invalid progress percent "+b);var c=a.innerWidth,d=c*(b/100);f.style.width=d+"px"},remove:function(){document.body.removeChild(this._element),d=d.filter(function(a){return a!==this},this)},move:function(a){this._element.style.bottom=parseInt(this._element.style.bottom,10)+a+"px"},timer:function(a){if(10>a)throw new Error("Invalid duration "+a+" should be seconds");this.timer&&clearInterval(this.timer);var b=this;b.started=new Date,b.duration=a,b.timer=setInterval(function(){var a=new Date-b.started,c=a/1e3,d=100*(c/b.duration);d>=100&&(clearInterval(b.timer),d=100),b.progress(d)},1e3)}};return(e.progress||e.value)&&h.progress(e.progress||e.value),(e.timer||e.duration)&&h.timer(e.timer||e.duration),d.push(h),h},a.progressFullWidth.remove=function(){var a=d.map(c);a.forEach(function(a){a.remove()})},a.progressFullWidth.version="0.0.2"}(this);
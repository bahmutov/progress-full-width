/*! progress-full-width - v0.0.3 - 2013-07-01 */
!function(a){function b(){var a=0;return d.forEach(function(b){a+=b.height}),a}function c(a){return a}var d=[];a.progressFullWidth=function(c){var e=c||{};e.id=e.id||"bar",e.color=e.color||"#333333",e.height=e.height||5;var f=document.createElement("div");f.setAttribute("id",e.id);var g=f.style;g.position="absolute",g.width="0",g.height=e.height+"px",g.left="0",e.bottom?(g.bottom="0",d.forEach(function(a){a.move(e.height)})):g.bottom=b()+"px",g.backgroundColor=e.color,f.classList.add("progressFullWidth"),document.body.appendChild(f);var h={_element:f,height:e.height,progress:function(b){if(0>b||b>100)throw new Error("Invalid progress percent "+b);var c=a.innerWidth,d=c*(b/100);f.style.width=d+"px"},remove:function(){document.body.removeChild(this._element),d=d.filter(function(a){return a!==this},this)},move:function(a){this._element.style.bottom=parseInt(this._element.style.bottom,10)+a+"px"},_elapsed:function(){if(!this.started)throw new Error("Cannot get started time");var a=new Date-this.started,b=a/1e3;return b},timer:function(a){if(10>a)throw new Error("Invalid duration "+a+" should be seconds");this._timer&&clearInterval(this._timer);var b=this;b.started=new Date,b.duration=a,b._timer=setInterval(function(){var a=b._elapsed(),c=100*(a/b.duration);c>=100&&(clearInterval(b.timer),c=100),b.progress(c)},1e3)},pause:function(){this._timer?(clearInterval(this._timer),// console.log(this);
this.duration=this.duration-this._elapsed(),delete this.started,delete this._timer):console.log("timer has already been paused")},resume:function(){return this._timer?(console.log("timer is already running"),void 0):(// console.log('resuming with duration', this.duration);
this.duration>10&&this.timer(this.duration),void 0)}};return(e.progress||e.value)&&h.progress(e.progress||e.value),(e.timer||e.duration)&&h.timer(e.timer||e.duration),d.push(h),h},a.progressFullWidth.remove=function(){var a=d.map(c);a.forEach(function(a){a.remove()})},a.progressFullWidth.version="0.0.3"}(this);